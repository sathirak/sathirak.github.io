1:"$Sreact.fragment"
2:I[57969,["6443","static/chunks/636f95dc-94e8b2abb494893b.js","3476","static/chunks/3476-0cb72053f59b4352.js","7177","static/chunks/app/layout-b783ef9e63e15d29.js"],"GoogleTagManager"]
3:I[9680,["6443","static/chunks/636f95dc-94e8b2abb494893b.js","3476","static/chunks/3476-0cb72053f59b4352.js","7177","static/chunks/app/layout-b783ef9e63e15d29.js"],"SeasonalIcon"]
4:I[46286,[],""]
5:I[46852,[],""]
7:I[1391,[],"OutletBoundary"]
9:I[1391,[],"MetadataBoundary"]
b:I[1391,[],"ViewportBoundary"]
d:I[53865,[],""]
:HL["/_next/static/media/c6590e94fb93f6bd-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/feec6f6f0d18f76b-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/f8575a74beb2c16a.css","style"]
:HL["/_next/static/css/164e025efb19ed03.css","style"]
:HL["/_next/static/css/8b49a788e502c38a.css","style"]
0:{"P":null,"b":"HkTLbH5rj7SVSFLVzdmYl","p":"","c":["","devlog","homelab-part-1-terraform",""],"i":false,"f":[[["",{"children":["devlog",{"children":[["slug","homelab-part-1-terraform","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f8575a74beb2c16a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/164e025efb19ed03.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"rel":"icon","type":"image/png","href":"/favicon/favicon-96x96.png","sizes":"96x96"}],["$","link",null,{"rel":"icon","type":"image/svg+xml","href":"/favicon/favicon.svg"}],["$","link",null,{"rel":"shortcut icon","href":"/favicon/favicon.ico"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/favicon/apple-touch-icon.png"}],["$","link",null,{"rel":"manifest","href":"/favicon/site.webmanifest"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.33/dist/katex.min.css"}]]}],["$","$L2",null,{"gtmId":"G-EVEP2QMLHF"}],["$","body",null,{"className":"__className_dbfe30 w-full text-zinc-800 selection:bg-black selection:text-white flex flex-col min-h-screen","children":[["$","header",null,{"className":"border-b z-10 top-0 sticky flex justify-between items-center p-4 w-full bg-white bg-clip-padding backdrop-filter  backdrop-blur-sm bg-opacity-40 backdrop-saturate-100 backdrop-contrast-100","children":["$","div",null,{"className":"flex items-center gap-4 select-none","children":[["$","$L3",null,{"className":"size-10","alt":"Grotto Logo"}],["$","a",null,{"href":"/","className":"font-medium text-2xl select-none cursor-pointer","children":"Grotto"}]]}]}],["$","div",null,{"className":"flex-grow","children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"border-t mt-16 flex justify-between items-center p-4 w-full bg-white bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-40 backdrop-saturate-100 backdrop-contrast-100","children":["$","div",null,{"className":"w-full max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-2 text-sm text-zinc-600","children":[["$","span",null,{"children":"Â© 2026 Sathira"}],["$","div",null,{"className":"flex gap-4","children":[["$","a",null,{"href":"https://github.com/sathirak","target":"_blank","rel":"noopener noreferrer","className":"hover:text-zinc-800 transition-colors","children":"GitHub"}],["$","a",null,{"href":"https://linkedin.com/in/sathirak","target":"_blank","rel":"noopener noreferrer","className":"hover:text-zinc-800 transition-colors","children":"LinkedIn"}]]}]]}]}]]}]]}]]}],{"children":["devlog",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","devlog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","homelab-part-1-terraform","d"],["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","devlog","children","$0:f:0:1:2:children:2:children:0","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L6",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/8b49a788e502c38a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L7",null,{"children":"$L8"}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","zDuksL2N5HWMoTAJ560lN",{"children":[["$","$L9",null,{"children":"$La"}],["$","$Lb",null,{"children":"$Lc"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$d","$undefined"],"s":false,"S":true}
e:I[25479,["6443","static/chunks/636f95dc-94e8b2abb494893b.js","2608","static/chunks/2608-ea0ba20e0bfd3ef2.js","4120","static/chunks/app/devlog/%5Bslug%5D/page-65786370f452e762.js"],"Devlog"]
f:I[4740,["6443","static/chunks/636f95dc-94e8b2abb494893b.js","2608","static/chunks/2608-ea0ba20e0bfd3ef2.js","4120","static/chunks/app/devlog/%5Bslug%5D/page-65786370f452e762.js"],"Code",1]
6:["$","$Le",null,{"slug":"homelab-part-1-terraform","title":"Homelab Part 1, Terraform","description":"How I setup terraform for my homelab on a Digital Ocean VPS","date":"2025-03-05","children":[["$","p",null,{"className":"my-4","children":["I was watching a ",["$","a",null,{"className":"text-teal-500 hover:text-orange-500 visited:text-yellow-500 underline transition-colors","target":"_blank","rel":"noopener noreferrer","href":"https://youtu.be/8s0DWeHuEaw","children":"Youtube video"}]," and the guy in the video mentioned that, ",["$","em",null,{"children":"\"Every DevOps Engineer needs a Homelab\""}],".\nThis is something I may agree with but, what did I know about Homelabs? So naturally, I accepted the challenge to create one."]}],"\n",["$","p",null,{"className":"my-4","children":"So to get started with, where I wanted to host it."}],"\n",["$","h2",null,{"className":"text-3xl font-medium mt-8 mb-4 hover:text-zinc-600 transition-colors __className_dbfe30","children":["$","a",null,{"href":"#digitalocean","children":"DigitalOcean"}],"id":"digitalocean"}],"\n",["$","p",null,{"className":"my-4","children":["Now, this debate sparked in my mind because when people hear Homelabs, they think, \"oh a nice little server room inside your house\".\nWell, I would love to have one of those, but I don't really ",["$","em",null,{"children":"need"}]," one, so just a simple DigitalOcean Droplet will suffice for my needs."]}],"\n",["$","p",null,{"className":"my-4","children":"And the basic idea of what I want to generally accomplish is, I want to have a simple server that I can use to manage a kubernetes cluster and maintain it."}],"\n",["$","p",null,{"className":"my-4","children":"The primary motive is so I can learn how to debug production level issues and get to learn a lot more technologies.\nThe secondary motive is to just have fun."}],"\n",["$","p",null,{"className":"my-4","children":"FYI, I am a mere software engineer and I'm in my DevOps phase :)"}],"\n",["$","h2",null,{"className":"text-3xl font-medium mt-8 mb-4 hover:text-zinc-600 transition-colors __className_dbfe30","children":["$","a",null,{"href":"#terraform","children":"Terraform"}],"id":"terraform"}],"\n",["$","p",null,{"className":"my-4","children":"So to get started, I used Terraform to set up the whole thing so I can use nginx and stuff like that.\nIn this blog, we'll try to simply show an HTML page on the server. Nothing more."}],"\n",["$","p",null,{"className":"my-4","children":"Let's first start with Terraform."}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"className":"text-teal-500 hover:text-orange-500 visited:text-yellow-500 underline transition-colors","target":"_blank","rel":"noopener noreferrer","href":"https://docs.digitalocean.com/reference/terraform/getting-started/","children":"Terrafrom Guide on DigitalOcean"}]}],"\n",["$","li",null,{"children":["$","a",null,{"className":"text-teal-500 hover:text-orange-500 visited:text-yellow-500 underline transition-colors","target":"_blank","rel":"noopener noreferrer","href":"https://registry.terraform.io/browse/providers","children":"Terraform DigitalOcean Providers"}]}],"\n"]}],"\n",["$","p",null,{"className":"my-4","children":"Above are a few guides that I found useful. You can use them or not. Just be aware my method of learning is trial and error (basically bruteforcing until everything works correctly), I read the documentation afterwards."}],"\n",["$","p",null,{"className":"my-4","children":["First things first, created a ",["$","a",null,{"className":"text-teal-500 hover:text-orange-500 visited:text-yellow-500 underline transition-colors","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/sathirak/homelab","children":"Github Repo"}]," to upload all my files regarding the Homelab."]}],"\n",["$","p",null,{"className":"my-4","children":"Step two, creating the terraform files."}],"\n",["$","p",null,{"className":"my-4","children":"A simple provider.tf configures what our Infrastucture provider is and the general Terraform configuration.\nThis is my second time using Terraform, so some of them might still not be optimized."}],"\n",["$","$Lf",null,{"lang":"terraform","file":"provider.tf","code":"\nterraform {\nrequired_providers {\n  digitalocean = {\n    source = \"digitalocean/digitalocean\"\n    version = \"~> 2.0\"\n  }\n}\n}\n\nvariable \"do_token\" {}\nvariable \"pvt_key\" {}\n\nprovider \"digitalocean\" {\ntoken = var.do_token\n}\n\ndata \"digitalocean_ssh_key\" \"terraform\" {\nname = \"id_rsa bigchungus\"\n} \n"}],"\n",["$","p",null,{"className":"my-4","children":["and next a ",["$","strong",null,{"className":"font-semibold","children":"homelab.tf"}]," file to specify what and where our droplet is."]}],"\n",["$","$Lf",null,{"lang":"terraform","file":"homelab.tf","code":"\nresource \"digitalocean_droplet\" \"homelab\" {\nimage = \"ubuntu-22-04-x64\"\nname = \"turbochungus\"\nregion = \"nyc2\"\nsize = \"s-1vcpu-1gb\"\nssh_keys = [\n  data.digitalocean_ssh_key.terraform.id\n]\nconnection {\n  host = self.ipv4_address\n  user = \"root\"\n  type = \"ssh\"\n  private_key = file(var.pvt_key)\n  timeout = \"2m\"\n}\n}\n"}],"\n",["$","p",null,{"className":"my-4","children":"Now then you'll need a DigitalOcean API key and an SSH key configured into your account,\nMy SSH key is named id_rsa bigchungus and I have a DigitalOcean API key generated, which is a secret."}],"\n",["$","p",null,{"className":"my-4","children":["Now you need to get terraform installed. ",["$","a",null,{"className":"text-teal-500 hover:text-orange-500 visited:text-yellow-500 underline transition-colors","target":"_blank","rel":"noopener noreferrer","href":"https://developer.hashicorp.com/terraform/install","children":"This is the official guide"}]]}],"\n",["$","p",null,{"className":"my-4","children":"And then you need to run a few commands and you'll have a server up and running."}],"\n",["$","$Lf",null,{"lang":"bash","code":"\nterraform init\n\nterraform plan -out=infra.out\n\nterraform apply infra.out\n"}],"\n",["$","p",null,{"className":"my-4","children":"While executing it will ask for the DigitalOcean API key and the SSH key path."}],"\n",["$","p",null,{"className":"my-4","children":"And after a few seconds your server will be up and running."}],"\n",["$","p",null,{"className":"my-4","children":"Next we'll have to install ngnix. My plan is to display a simple html page on the server."}],"\n",["$","p",null,{"className":"my-4","children":"First we'll need to access the server,"}],"\n",["$","p",null,{"className":"my-4","children":"So I SSHed into the server and installed ngnix."}],"\n",["$","$Lf",null,{"lang":"bash","code":"\nsudo apt update\nsudo apt install -y nginx\n"}],"\n",["$","p",null,{"className":"my-4","children":"Then after the ngnix server is restarted, I went to /var/www/html/ and added my static html file."}],"\n",["$","$Lf",null,{"lang":"bash","code":"\ncd /var/www/html\ntouch index.html\nsudo nano index.html\n"}],"\n",["$","p",null,{"className":"my-4","children":"You can make the HTML file however you want, you can get it via git, or copy and paster it, whaterver you want."}],"\n",["$","p",null,{"className":"my-4","children":"Now we need to check and fix some permissions."}],"\n",["$","$Lf",null,{"lang":"bash","code":"\nsudo chown -R www-data:www-data /var/www/html\nsudo chmod -R 755 /var/www/html\n"}],"\n",["$","p",null,{"className":"my-4","children":"Basically what this does is, it changes the owner of the directory to the ngnix user and gives the user read, write and execute permissions."}],"\n",["$","p",null,{"className":"my-4","children":"Then get the default ngnix configuration"}],"\n",["$","$Lf",null,{"lang":"bash","code":"\nsudo nano /etc/nginx/sites-available/default\n"}],"\n",["$","p",null,{"className":"my-4","children":"Make sure it's somewhat like the configuration below:"}],"\n",["$","$Lf",null,{"lang":"nginx","code":"\nserver {\n  listen 80 default_server;\n  listen [::]:80 default_server;\n\n  root /var/www/html;\n  index index.html;\n\n  server_name _;\n\n  location / {\n      try_files $uri $uri/ =404;\n  }\n}\n"}],"\n",["$","p",null,{"className":"my-4","children":"Then test and restart the ngnix server"}],"\n",["$","$Lf",null,{"lang":"bash","code":"\nsudo nginx -t\nsudo systemctl restart nginx\n"}],"\n",["$","p",null,{"className":"my-4","children":"Now if I go to the Server's IP address, I can see the static site. Yay!"}],"\n",["$","h2",null,{"className":"text-3xl font-medium mt-8 mb-4 hover:text-zinc-600 transition-colors __className_dbfe30","children":["$","a",null,{"href":"#automation","children":"Automation"}],"id":"automation"}],"\n",["$","p",null,{"className":"my-4","children":"But a big part of why I'm learning this is so I can automate it, so let's automate this whole thing in Terraform by changing the homelab.tf file."}],"\n",["$","$Lf",null,{"lang":"terraform","file":"homelab.tf","code":"\nresource \"digitalocean_droplet\" \"homelab\" {\nimage = \"ubuntu-22-04-x64\"\nname = \"turbochungus\"\nregion = \"sfo3\"\nsize = \"s-1vcpu-1gb\"\nssh_keys = [\n  data.digitalocean_ssh_key.terraform.id\n]\n\nconnection {\n  host        = self.ipv4_address\n  user        = \"root\"\n  type        = \"ssh\"\n  private_key = file(var.pvt_key)\n  timeout     = \"2m\"\n}\n\nprovisioner \"remote-exec\" {\n  inline = [\n    \"apt-get update -y\",\n    \"apt-get install -y nginx\",\n    \n    \"git clone https://github.com/sathirak/homelab.git\",\n\n    \"rm -rf /var/www/html/*\",\n    \"cp ./homelab/nginx/* /var/www/html/\",\n\n    \"rm -rf ./homelab\",\n    \"systemctl restart nginx\"\n  ]\n}\n}\n"}],"\n",["$","p",null,{"className":"my-4","children":"The whole setting up thing will be automated now."}],"\n",["$","p",null,{"className":"my-4","children":"If you want to try out the thing, the whole thing is in the git repo, feel free to clone it and run with your own config"}]]}]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
a:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Homelab Part 1, Terraform | Devlog"}]]
8:null
